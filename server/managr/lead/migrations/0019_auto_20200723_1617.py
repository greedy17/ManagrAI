# Generated by Django 2.2.14 on 2020-07-23 16:17

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion
import uuid


class Migration(migrations.Migration):

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('organization', '0001_initial'),
        ('lead', '0018_remove_reminder_notification'),
    ]

    operations = [
        migrations.AlterField(
            model_name='leadactivitylog',
            name='activity',
            field=models.CharField(choices=[('Lead.CREATED', 'Lead Created'), ('Lead.UPDATED', 'Lead Updated'), ('Lead.DELETED', 'Lead Deleted'), ('Lead.CLAIMED', 'Lead Claimed'), ('Lead.RELEASED', 'Lead Released'), ('Lead.CLOSED', 'Lead Closed'), ('Note.CREATED', 'Note Created'), ('Note.UPDATED', 'Note Updated'), ('Note.DELETED', 'Note Deleted'), ('CallNote.CREATED', 'Call Note Created'), ('CallNote.UPDATED', 'Call Note Updated'), ('CallNote.DELETED', 'Call Note Deleted'), ('File.CREATED', 'File Created'), ('File.UPDATED', 'File Updated'), ('File.DELETED', 'File Deleted'), ('Reminder.CREATED', 'Reminder Created'), ('Reminder.UPDATED', 'Reminder Updated'), ('Reminder.DELETED', 'Reminder Deleted'), ('Action.CREATED', 'Action Created'), ('Action.UPDATED', 'Action Updated'), ('Action.DELETED', 'Action Deleted'), ('LeadEmail.SENT', 'Email Sent'), ('LeadEmail.RECEIVED', 'Email Received'), ('LeadMessage.RECEIVED', 'Message Received'), ('LeadMessage.SENT', 'Message Sent')], help_text='records any actions taken on a lead', max_length=255),
        ),
        migrations.CreateModel(
            name='LeadMessage',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('datetime_created', models.DateTimeField(auto_now_add=True)),
                ('last_edited', models.DateTimeField(auto_now=True)),
                ('message_id', models.CharField(max_length=128)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_messages', to=settings.AUTH_USER_MODEL)),
                ('lead', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='messages', to='lead.Lead')),
                ('linked_contacts', models.ManyToManyField(blank=True, related_name='message_activity_logs', to='organization.Contact')),
            ],
            options={
                'abstract': False,
            },
        ),
    ]
